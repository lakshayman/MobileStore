{"version":3,"sources":["components/OL/index.js","utils/setAuthToken.js","actions/types.js","actions/authActions.js","reducers/authReducer.js","reducers/errorReducer.js","reducers/index.js","store.js","components/auth/Login.js","components/private-route/index.js","components/api/index.js","components/recordTable/index.js","components/dashboard/index.js","App.js","index.js"],"names":["exports","operatorList","setAuthToken","token","axios","defaults","headers","common","GET_ERRORS","USER_LOADING","SET_CURRENT_USER","setCurrentUser","decoded","type","payload","logoutUser","dispatch","localStorage","removeItem","isEmpty","require","initialState","isAuthenticated","user","loading","combineReducers","auth","state","action","errors","middleware","thunk","store","createStore","rootReducer","compose","applyMiddleware","Login","onChange","e","setState","target","id","value","onSubmit","preventDefault","userData","name","password","props","loginUser","console","log","nextProps","this","history","push","className","class","error","classnames","invalid","namenotfound","passwordincorrect","Component","connect","post","then","res","data","setItem","jwt_decode","catch","err","response","component","rest","render","to","api","create","baseURL","apis","insertRecord","getAllRecords","get","updateRecordById","put","deleteRecordById","delete","getRecordById","Update","styled","div","Delete","Wrapper","UpdateRecord","updateRecord","event","window","location","href","onClick","DeleteRecord","deleteRecord","confirm","reload","RecordTable","componentDidMount","a","isLoading","records","columns","scope","rows","i","length","_id","operator","details","amount","createdDate","createdTime","Dashboard","onLogoutClick","handleOperatorChange","document","getElementById","focus","handleDetailsChange","validity","valid","handleAmountChange","handleClick","select","handleKeyDownDet","key","handleKeyDownAmt","dt","Date","toLocaleString","substring","alert","handleSubmit","autoFocus","options","for","onKeyDown","pattern","jwtToken","currentTime","now","exp","App","exact","path","ReactDOM","StrictMode"],"mappings":"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","file":"static/js/main.16e0edcc.chunk.js","sourcesContent":["exports.operatorList = [\r\n    \"VodaphoneIdea\",\r\n    \"Airtel\",\r\n    \"OJO\"\r\n]","import axios from \"axios\";\r\nconst setAuthToken = token => {\r\n  if (token) {\r\n    axios.defaults.headers.common[\"Authorization\"] = token;\r\n  } else {\r\n    delete axios.defaults.headers.common[\"Authorization\"];\r\n  }\r\n};\r\nexport default setAuthToken;","export const GET_ERRORS = \"GET_ERRORS\";\r\nexport const USER_LOADING = \"USER_LOADING\";\r\nexport const SET_CURRENT_USER = \"SET_CURRENT_USER\";","import axios from \"axios\";\r\nimport setAuthToken from \"../utils/setAuthToken\";\r\nimport jwt_decode from \"jwt-decode\";\r\nimport {\r\n  GET_ERRORS,\r\n  SET_CURRENT_USER,\r\n  USER_LOADING\r\n} from \"./types\";\r\nexport const loginUser = userData => dispatch => {\r\n  axios\r\n    .post(\"https://infinite-bastion-43171.herokuapp.com/api/login\", userData)\r\n    .then(res => {\r\n      // Save to localStorage\r\n// Set token to localStorage\r\n      const { token } = res.data;\r\n      localStorage.setItem(\"jwtToken\", token);\r\n      // Set token to Auth header\r\n      setAuthToken(token);\r\n      // Decode token to get user data\r\n      const decoded = jwt_decode(token);\r\n      // Set current user\r\n      dispatch(setCurrentUser(decoded));\r\n    })\r\n    .catch(err =>\r\n      dispatch({\r\n        type: GET_ERRORS,\r\n        payload: err.response.data\r\n      })\r\n    );\r\n};\r\n\r\nexport const setCurrentUser = decoded => {\r\n  return {\r\n    type: SET_CURRENT_USER,\r\n    payload: decoded\r\n  };\r\n};\r\n\r\nexport const setUserLoading = () => {\r\n  return {\r\n    type: USER_LOADING\r\n  };\r\n};\r\n\r\nexport const logoutUser = () => dispatch => {\r\n  localStorage.removeItem(\"jwtToken\");\r\n  setAuthToken(false);\r\n  dispatch(setCurrentUser({}));\r\n};","import {\r\n    SET_CURRENT_USER,\r\n    USER_LOADING\r\n  } from \"../actions/types\";\r\n  const isEmpty = require(\"is-empty\");\r\n  const initialState = {\r\n    isAuthenticated: false,\r\n    user: {},\r\n    loading: false\r\n  };\r\n  export default function(state = initialState, action) {\r\n    switch (action.type) {\r\n      case SET_CURRENT_USER:\r\n        return {\r\n          ...state,\r\n          isAuthenticated: !isEmpty(action.payload),\r\n          user: action.payload\r\n        };\r\n      case USER_LOADING:\r\n        return {\r\n          ...state,\r\n          loading: true\r\n        };\r\n      default:\r\n        return state;\r\n    }\r\n  }","import { GET_ERRORS } from \"../actions/types\";\r\nconst initialState = {};\r\nexport default function(state = initialState, action) {\r\n  switch (action.type) {\r\n    case GET_ERRORS:\r\n      return action.payload;\r\n    default:\r\n      return state;\r\n  }\r\n}","import { combineReducers } from \"redux\";\r\nimport authReducer from \"./authReducer\";\r\nimport errorReducer from \"./errorReducer\";\r\nexport default combineReducers({\r\n  auth: authReducer,\r\n  errors: errorReducer\r\n});","import { createStore, applyMiddleware, compose } from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\nimport rootReducer from \"./reducers\";\r\nconst initialState = {};\r\nconst middleware = [thunk];\r\nconst store = createStore(\r\n  rootReducer,\r\n  initialState,\r\n  compose(\r\n    applyMiddleware(...middleware),\r\n  )\r\n);\r\nexport default store;","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { connect } from \"react-redux\";\r\nimport { loginUser } from \"../../actions/authActions\";\r\nimport classnames from \"classnames\";\r\nclass Login extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      name: \"\",\r\n      password: \"\",\r\n      errors: {}\r\n    };\r\n  }\r\n  componentWillReceiveProps(nextProps) {\r\n    if (nextProps.auth.isAuthenticated) {\r\n      this.props.history.push(\"/dashboard\");\r\n    }\r\nif (nextProps.errors) {\r\n      this.setState({\r\n        errors: nextProps.errors\r\n      });\r\n    }\r\n  }\r\n  componentDidMount() {\r\n    if (this.props.auth.isAuthenticated) {\r\n      this.props.history.push(\"/dashboard\");\r\n    }\r\n  }\r\nonChange = e => {\r\n    this.setState({ [e.target.id]: e.target.value });\r\n  };\r\nonSubmit = e => {\r\n    e.preventDefault();\r\nconst userData = {\r\n      name: this.state.name,\r\n      password: this.state.password\r\n    };\r\n    this.props.loginUser(userData);\r\nconsole.log(userData);\r\n  };\r\nrender() {\r\n    const { errors } = this.state;\r\nreturn (\r\n  <div className=\"container-fluid min-vh-100\">\r\n  <div class=\"row\">\r\n      <div class=\"col-xl-5 col-lg-6 col-md-8 col-sm-10 mx-auto form p-4\">\r\n          <h1 class=\"display-4 py-3 text-center text-dark font-weight-bold text-truncate\">Manchanda Mobile</h1>\r\n          <div class=\"px-2 py-2\">\r\n              <form onSubmit={this.onSubmit} class=\"justify-content-center\">\r\n                  <div class=\"form-group py-3\">\r\n                      <label class=\"sr-only text-dark\">Name</label>\r\n                      <input onChange={this.onChange}\r\n                            value={this.state.name}\r\n                            error={errors.name}\r\n                            id=\"name\"\r\n                            type=\"text\"\r\n                            class=\"form-control text-white\"\r\n                            className={classnames(\"\", {\r\n                              invalid: errors.name || errors.namenotfound\r\n                            })}\r\n                      />\r\n                      <span className=\"red-text\">\r\n                        {errors.name}\r\n                        {errors.namenotfound}\r\n                      </span>\r\n                  </div>\r\n                  <div class=\"form-group py-3\">\r\n                      <label class=\"sr-only text-dark\">Password</label>\r\n                      <input\r\n                        onChange={this.onChange}\r\n                        value={this.state.password}\r\n                        error={errors.password}\r\n                        id=\"password\"\r\n                        type=\"password\"\r\n                        class=\"form-control text-white\"\r\n                        className={classnames(\"\", {\r\n                          invalid: errors.password || errors.passwordincorrect\r\n                        })}\r\n                      />\r\n                      <span className=\"red-text\">\r\n                        {errors.password}\r\n                        {errors.passwordincorrect}\r\n                      </span>\r\n                  </div>\r\n                  <button type=\"submit\" class=\"btn-success btn-large waves-effect waves-light hoverable blue accent-3\">Launch</button>\r\n              </form>\r\n          </div>\r\n      </div>\r\n  </div>\r\n</div>\r\n    );\r\n  }\r\n}\r\nLogin.propTypes = {\r\n  loginUser: PropTypes.func.isRequired,\r\n  auth: PropTypes.object.isRequired,\r\n  errors: PropTypes.object.isRequired\r\n};\r\nconst mapStateToProps = state => ({\r\n  auth: state.auth,\r\n  errors: state.errors\r\n});\r\nexport default connect(\r\n  mapStateToProps,\r\n  { loginUser }\r\n)(Login);","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport PropTypes from \"prop-types\";\r\nconst PrivateRoute = ({ component: Component, auth, ...rest }) => (\r\n  <Route\r\n    {...rest}\r\n    render={props =>\r\n      auth.isAuthenticated === true ? (\r\n        <Component {...props} />\r\n      ) : (\r\n        <Redirect to=\"/\" />\r\n      )\r\n    }\r\n  />\r\n);\r\nPrivateRoute.propTypes = {\r\n  auth: PropTypes.object.isRequired\r\n};\r\nconst mapStateToProps = state => ({\r\n  auth: state.auth\r\n});\r\nexport default connect(mapStateToProps)(PrivateRoute);","import axios from 'axios'\r\n\r\nconst api = axios.create({\r\n    baseURL: 'https://infinite-bastion-43171.herokuapp.com/api',\r\n})\r\n\r\nexport const insertRecord = payload => api.post(`/record`, payload)\r\nexport const getAllRecords = () => api.get(`/records`)\r\nexport const updateRecordById = (id, payload) => api.put(`/record/${id}`, payload)\r\nexport const deleteRecordById = id => api.delete(`/record/${id}`)\r\nexport const getRecordById = id => api.get(`/record/${id}`)\r\n\r\nconst apis = {\r\n    insertRecord,\r\n    getAllRecords,\r\n    updateRecordById,\r\n    deleteRecordById,\r\n    getRecordById,\r\n}\r\n\r\nexport default apis","import React, { Component } from 'react'\r\nimport api from '../api'\r\n\r\nimport styled from 'styled-components'\r\n\r\nconst Update = styled.div`\r\n    color: #ef9b0f;\r\n    cursor: pointer;\r\n`\r\n\r\nconst Delete = styled.div`\r\n    color: #ff0000;\r\n    cursor: pointer;\r\n`\r\n\r\nconst Wrapper = styled.div`\r\n    padding: 0 40px 40px 40px;\r\n`\r\n\r\nclass UpdateRecord extends Component {\r\n    updateRecord = event => {\r\n        event.preventDefault()\r\n\r\n        window.location.href = `/update/${this.props.id}`\r\n    }\r\n\r\n    render() {\r\n        return <Update onClick={this.updateRecord}>Update</Update>\r\n    }\r\n}\r\n\r\nclass DeleteRecord extends Component {\r\n    deleteRecord = event => {\r\n        event.preventDefault()\r\n\r\n        if (\r\n            window.confirm(\r\n                `Do tou want to delete the record ${this.props.id} permanently?`,\r\n            )\r\n        ) {\r\n            api.deleteRecordById(this.props.id)\r\n            window.location.reload()\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return <Delete onClick={this.deleteRecord}>Delete</Delete>\r\n    }\r\n}\r\n\r\nclass RecordTable extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            records: [],\r\n            columns: [],\r\n            isLoading: false,\r\n        }\r\n    }\r\n\r\n    componentDidMount = async () => {\r\n        this.setState({ isLoading: true })\r\n\r\n        await api.getAllRecords().then(records => {\r\n            this.setState({\r\n                records: records.data.data,\r\n                isLoading: false,\r\n            })\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const { records, isLoading } = this.state\r\n        console.log('TCL: RecordsList -> render -> records', records)\r\n\r\n        return (\r\n            <Wrapper>\r\n                    <table id=\"dtBasicExample\" class=\"table table-hover caption-top\">\r\n                        <caption>List of records</caption>\r\n                        <thead>\r\n                            <tr>\r\n                            <th scope=\"col\">#</th>\r\n                            <th scope=\"col\">Operator</th>\r\n                            <th scope=\"col\">Details</th>\r\n                            <th scope=\"col\">Amount</th>\r\n                            <th scope=\"col\">Time</th>\r\n                            <th scope=\"col\">Update</th>\r\n                            <th scope=\"col\">Delete</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {(() => {\r\n                                const rows = [];\r\n                                for (let i = 0; i < records.length ; i++) {\r\n                                    rows.push(\r\n                                        <tr>\r\n                                            <th scope=\"row\">{records[i]._id}</th>\r\n                                            <td>{records[i].operator}</td>\r\n                                            <td>{records[i].details}</td>\r\n                                            <td>{records[i].amount}</td>\r\n                                            <td>{records[i].createdDate + \" \" + records[i].createdTime}</td>\r\n                                            <td><span><DeleteRecord id={records[i]._id} /></span></td>\r\n                                            <td><span><UpdateRecord id={records[i]._id} /></span></td>\r\n                                        </tr>\r\n                                    );\r\n                                }\r\n                                return rows;\r\n                            })()}\r\n                        </tbody>\r\n                    </table>\r\n            </Wrapper>\r\n        )\r\n    }\r\n}\r\n\r\nexport default RecordTable","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { connect } from \"react-redux\";\r\nimport { logoutUser } from \"../../actions/authActions\";\r\nimport { operatorList } from \"../OL\";\r\nimport RecordTable from \"../recordTable\";\r\nimport api from '../api'\r\n\r\nclass Dashboard extends Component {\r\n  \r\n  constructor(props){\r\n    super(props)\r\n\r\n    this.state = {\r\n      operator: 'Select Operator',\r\n      details: '',\r\n      amount: 0,\r\n    }\r\n  }\r\n\r\n  onLogoutClick = e => {\r\n    e.preventDefault();\r\n    this.props.logoutUser();\r\n  };\r\n\r\n  handleOperatorChange = async event => {\r\n    const operator = event.target.value\r\n    if(operator === 'Select Operator'){\r\n      document.getElementById(\"sel1\").focus()\r\n    }else{\r\n      this.setState({ operator })\r\n    document.getElementById(\"det\").focus()\r\n    }\r\n  }\r\n\r\n  handleDetailsChange = async event => {\r\n      const details = event.target.validity.valid\r\n          ? event.target.value\r\n          : this.state.details\r\n\r\n      this.setState({ details })\r\n  }\r\n\r\n  handleAmountChange = async event => {\r\n      const amount = event.target.value\r\n      this.setState({ amount })\r\n  }\r\n\r\n  handleClick = async event => {\r\n    event.target.select()\r\n  }\r\n\r\n  handleKeyDownDet = (e) => {\r\n    if (e.key === 'Enter') {\r\n      document.getElementById(\"amt\").focus()\r\n      document.getElementById(\"amt\").select()\r\n    }\r\n  }\r\n\r\n  handleKeyDownAmt = async (e) => {\r\n    if (e.key === 'Enter') {\r\n      const { operator, details, amount } = this.state\r\n    let errors = []\r\n    if(operator === 'Select Operator'){\r\n      errors.push('Select Operator!')\r\n    }\r\n    if(details === ''){\r\n      errors.push('Enter details!')\r\n    }\r\n    if(!amount){\r\n      errors.push('Enter Amount!')\r\n    }\r\n    if(!errors.length){\r\n      let dt = Date().toLocaleString();\r\n      const createdDate = dt.substring(4,15)\r\n      const createdTime = dt.substring(16,24)\r\n\r\n      const payload = { operator, details, amount, createdDate, createdTime }\r\n\r\n      await api.insertRecord(payload).then(res => {\r\n          this.setState({\r\n              operator: 'Select Operator',\r\n              details: '',\r\n              amount: 0,\r\n          })\r\n        })\r\n        window.location.reload();\r\n    }else{\r\n      window.alert(errors)\r\n    }\r\n    }\r\n  }\r\n\r\n  handleSubmit = async () => {\r\n    const { operator, details, amount } = this.state\r\n    let errors = []\r\n    if(operator === 'Select Operator'){\r\n      errors.push('Select Operator!')\r\n    }\r\n    if(details === ''){\r\n      errors.push('Enter details!')\r\n    }\r\n    if(amount === 0){\r\n      errors.push('Enter Amount!')\r\n    }\r\n    if(!errors.length){\r\n      let dt = Date().toLocaleString();\r\n      const createdDate = dt.substring(4,15)\r\n      const createdTime = dt.substring(16,24)\r\n\r\n      const payload = { operator, details, amount, createdDate, createdTime }\r\n\r\n      await api.insertRecord(payload).then(res => {\r\n          window.alert(`Movie inserted successfully`)\r\n          this.setState({\r\n              operator: 'Select Operator',\r\n              details: '',\r\n              amount: 0,\r\n          })\r\n        })\r\n        window.location.reload();\r\n    }else{\r\n      window.alert(errors)\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { user } = this.props.auth;\r\n    console.log(user);\r\nreturn (\r\n  <div>\r\n      <nav class=\"navbar navbar-expand-md navbar-dark bg-dark\">\r\n                <a class=\"navbar-brand mx-2\" href=\"/dashboard\">Dashboard</a>\r\n                <button\r\n                onClick={this.onLogoutClick}\r\n                className=\"btn waves-effect waves-light hoverable blue accent-3 mx-2\"\r\n                >\r\n                Logout\r\n                </button>\r\n            </nav>\r\n            <div>\r\n              <div class=\"form-group mx-5 d-flex align-items-center my-5\">\r\n                <select class=\"form-control mx-2\" id=\"sel1\" onChange={this.handleOperatorChange} value={this.state.operator} autoFocus>\r\n                  <option>Select Operator</option>\r\n                  {(() => {\r\n                    const options = [];\r\n                    for (let i = 0; i < operatorList.length ; i++) {\r\n                      options.push(<option>{operatorList[i]}</option>);\r\n                    }\r\n                    return options;\r\n                  })()}\r\n                </select>\r\n                <label class=\"mx-2\" for=\"det\"><h4>Details</h4></label>\r\n                <input type=\"number\" class=\"form-control mx-2\" id=\"det\" onKeyDown={this.handleKeyDownDet} pattern=\"[6-9]{1}[0-9]{9}\" onChange={this.handleDetailsChange} value={this.state.details}></input>\r\n                <label class=\"mx-2\" for=\"amt\"><h4>Amount</h4></label>\r\n                <input type=\"number\" class=\"form-control mx-2\" id=\"amt\" onKeyDown={this.handleKeyDownAmt} onChange={this.handleAmountChange} onClick={this.handleClick} value={this.state.amount}></input>\r\n                <button type=\"submit\" class=\"btn btn-primary\" onClick={this.handleSubmit}>Submit</button>\r\n              </div>\r\n              <div>\r\n                <RecordTable/>\r\n              </div>\r\n            </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nDashboard.propTypes = {\r\n  logoutUser: PropTypes.func.isRequired,\r\n  auth: PropTypes.object.isRequired\r\n};\r\nconst mapStateToProps = state => ({\r\n  auth: state.auth\r\n});\r\nexport default connect(\r\n  mapStateToProps,\r\n  { logoutUser }\r\n)(Dashboard);","import React, { Component } from \"react\";\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport jwt_decode from \"jwt-decode\";\nimport setAuthToken from \"./utils/setAuthToken\";\nimport { setCurrentUser, logoutUser } from \"./actions/authActions\";\nimport { Provider } from \"react-redux\";\nimport store from \"./store\";\nimport Login from \"./components/auth/Login\";\nimport PrivateRoute from \"./components/private-route\";\nimport Dashboard from \"./components/dashboard\";\nif (localStorage.jwtToken) {\n  const token = localStorage.jwtToken;\n  setAuthToken(token);\n  const decoded = jwt_decode(token);\n  store.dispatch(setCurrentUser(decoded));\n  const currentTime = Date.now() / 1000; // to get in milliseconds\n  if (decoded.exp < currentTime) {\n    store.dispatch(logoutUser());\n    window.location.href = \"./\";\n  }\n}\nclass App extends Component {\n  render() {\n    return (\n      <Provider store={store}>\n        <Router>\n          <div className=\"App\">\n            <Route exact path=\"/\" component={Login} />\n            <Switch>\n              <PrivateRoute exact path=\"/dashboard\" component={Dashboard} />\n            </Switch>\n          </div>\n        </Router>\n      </Provider>\n    );\n  }\n}\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}